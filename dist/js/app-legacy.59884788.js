(function(){"use strict";var e={3170:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var i,o,n,s,d=r(9567),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("editor-view",{attrs:{width:1e3,height:600}})],1)},l=[],c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"editor-view"}},[r("input",{staticClass:"mode-toggle",attrs:{type:"checkbox",value:"Switch mode"},on:{click:function(t){e.editingPlugs=!e.editingPlugs}}}),r("div",{staticClass:"editor plugs"},[r("div",{staticClass:"toolbox"},[r("div",{ref:"textStarter",staticClass:"starter text"}),r("div",{ref:"codeStarter",staticClass:"starter code"})]),r("div",{staticClass:"sandbox"},[r("button",{on:{click:e.save}},[e._v("save_")]),r("div",{ref:"program",staticClass:"program"},[e._l(e.chords,(function(t){return r("text-field",{key:t.id,attrs:{id:t.id,x:t.x,y:t.y},on:{change:e.updateChord}})})),e._l(e.codes,(function(e){return r("code-field",{key:e.id,attrs:{id:e.id,x:e.x,y:e.y}})})),e._l(e.plugs,(function(e){return r("media-field",{key:e.id,attrs:{id:e.id,x:e.x,y:e.y,media:e.media}})}))],2)]),r("div",{ref:"mediabox",staticClass:"mediabox"},[r("div",{staticClass:"imagebox"},e._l(e.images,(function(t){return r("linked-image",{key:t.id,ref:"imageStarters",refInFor:!0,staticClass:"starter media",attrs:{url:t.url},on:{"rendered-image":e.initImageStarter}})})),1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.newImageURL,expression:"newImageURL"}],attrs:{type:"text"},domProps:{value:e.newImageURL},on:{input:function(t){t.target.composing||(e.newImageURL=t.target.value)}}}),r("button",{on:{click:e.addImage}},[e._v("Add Image")])])]),r("div",{staticClass:"editor flow",style:e.editorFocus},[r("flow-view")],1)])},u=[],p=r(3019),f=(r(9653),r(2262),r(4506),r(1249),r(8862),function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.alive?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeConfig,expression:"closeConfig"}],ref:"draggableWrapper",staticClass:"field",style:e.fieldStyle,attrs:{id:e.id}},[r("main",[r("text-field-config",{directives:[{name:"show",rawName:"v-show",value:e.inEdit,expression:"inEdit"}],attrs:{properties:e.fieldStyleProperties},on:{"delete-initiated":e.destroySelf,input:e.updateProperties}}),r("div",{ref:"textInput",staticClass:"rendered-view",class:[e.fieldStyleProperties.text.textAlignment],attrs:{type:"text",value:e.fieldStyleProperties.text.mdcontent},domProps:{innerHTML:e._s(e.fieldStyleProperties.text.mdcontent)}})],1),r("aside",{staticClass:"quick-config-view"},[r("input",{attrs:{type:"button",value:"Up",id:"stack-up-button"},on:{click:e.stackUp}}),r("input",{attrs:{type:"button",value:"Down",id:"stack-down-button"},on:{click:e.stackDown}})])]):e._e()}),m=[],v=r(4106),h=r.n(v),b=r(8478),g=r.n(b),y=r(2394),x=r(3026),k=r.n(x),P={name:"TextField",props:{id:{type:String,required:!0},x:{type:Number,required:!0,default:10},y:{type:Number,required:!0,default:10}},data:function(){return{alive:!0,inEdit:!1,inEditProperty:null,stackOrder:0,screenX:0,screenY:0,initMessages:["If you can't give me poetry, can't you give me poetical science?","I will put up a show!","This. This can be a text.","You can drag me around, even!","Let's go on an adventure.","Break freeeeeeee!"]}},mounted:function(){var e=this.$refs.draggableWrapper;this.initInteract(e)},methods:{initInteract:function(e){e.style.webkitTransform=e.style.transform="translate("+this.x+"px, "+this.y+"px)",e.setAttribute("data-x",this.x),e.setAttribute("data-y",this.y),k()(e).pointerEvents({ignoreFrom:"aside"}).draggable({inertia:!1,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:this.dragMoveListener,onend:this.onDragEnd}).resizable({edges:{left:!0,right:!0,bottom:!1,top:!1},onmove:this.dragScaleListener,onend:this.onDragEnd}).on("tap",this.openConfig)},dragMoveListener:function(e){if(!this.inEdit){var t=e.target,r=(parseFloat(t.getAttribute("data-x"))||this.screenX)+e.dx,i=(parseFloat(t.getAttribute("data-y"))||this.screenY)+e.dy;t.style.webkitTransform=t.style.transform="translate("+r+"px, "+i+"px)",t.setAttribute("data-x",r),t.setAttribute("data-y",i)}},dragScaleListener:function(e){if(!this.inEdit){var t=e.target,r=parseFloat(t.getAttribute("data-x"))||0,i=parseFloat(t.getAttribute("data-y"))||0;t.style.width=e.rect.width+"px",this.width=e.rect.width,r+=e.deltaRect.left,i+=e.deltaRect.top,t.style.transform="translate("+r+"px,"+i+"px)",t.setAttribute("data-x",r),t.setAttribute("data-y",i)}},onDragEnd:function(e){var t=e.target;this.screenX=t.getBoundingClientRect().left,this.screenY=t.getBoundingClientRect().top,this.emitChange()},openConfig:function(){this.inEdit=!0},closeConfig:function(){this.inEdit=!1,this.fieldStyleProperties.text.mdcontent=g().sanitize(y.TU.parse(this.fieldStyleProperties.text.content))},destroySelf:function(){this.alive=!this.alive},stackUp:function(){this.stackOrder++},stackDown:function(){0!=this.stackOrder&&this.stackOrder--},emitChange:function(){this.$emit("change",this.id,this.fieldStyleProperties,this.screenX,this.screenY,this.width)}},directives:{"click-outside":{bind:function(e,t,r){e.clickOutsideEvent=function(i){e===i.target||e.contains(i.target)||r.context[t.expression](i)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}}},S=P,w=r(3736),_=(0,w.Z)(S,i,o,!1,null,null,null),C=_.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.resetActiveProperty,expression:"resetActiveProperty"}],staticClass:"field-config text-field-config"},[e._l(e.properties,(function(t,i){return r("div",{key:i,staticClass:"property-config"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.inEditProperty,expression:"inEditProperty"}],attrs:{id:e.id+i,type:"radio",name:"property"},domProps:{value:i,checked:e._q(e.inEditProperty,i)},on:{change:function(t){e.inEditProperty=i}}}),r("label",{attrs:{for:e.id+i}},[e._v(e._s(i))])])})),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.text.content,expression:"currentProperties.text.content"}],ref:"rawInput",class:[e.currentProperties.text.textAlignment],attrs:{type:"text",value:"content",rows:"10"},domProps:{value:e.currentProperties.text.content},on:{input:function(t){t.target.composing||e.$set(e.currentProperties.text,"content",t.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:"text"===e.inEditProperty,expression:"inEditProperty === 'text'"}],staticClass:"edit-panel"},[r("color-picker",{on:{input:e.updateStyle},model:{value:e.currentProperties.text.textColor,callback:function(t){e.$set(e.currentProperties.text,"textColor",t)},expression:"currentProperties.text.textColor"}}),r("field-config-radio",{attrs:{binding:"r",title:"alignment",property:"textAlignment",options:["left","center","right","justify"],val:e.currentProperties.text.textAlignment,alive:"textAlignment"===e.active},on:{change:e.updateStyle},nativeOn:{click:function(t){e.active="textAlignment"}},model:{value:e.currentProperties.text.textAlignment,callback:function(t){e.$set(e.currentProperties.text,"textAlignment",t)},expression:"currentProperties.text.textAlignment"}}),r("field-config-slider",{attrs:{binding:"w",title:"size",group:"text",property:"textSize",min:50,max:200,step:1,val:e.currentProperties.text.textSize,alive:"textSize"==e.active},on:{change:e.updateStyle},nativeOn:{click:function(t){e.active="textSize"}},model:{value:e.currentProperties.text.textSize,callback:function(t){e.$set(e.currentProperties.text,"textSize",e._n(t))},expression:"currentProperties.text.textSize"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:"border"===e.inEditProperty,expression:"inEditProperty === 'border'"}],staticClass:"edit-panel"},[r("color-picker",{on:{input:e.updateStyle},model:{value:e.currentProperties.border.borderColor,callback:function(t){e.$set(e.currentProperties.border,"borderColor",t)},expression:"currentProperties.border.borderColor"}}),r("field-config-slider",{attrs:{binding:"q",title:"radius",group:"border",property:"borderRadius",min:0,max:50,step:1,val:e.currentProperties.border.borderRadius,alive:"borderRadius"==e.active},on:{change:e.updateStyle},nativeOn:{click:function(t){e.active="borderRadius"}},model:{value:e.currentProperties.border.borderRadius,callback:function(t){e.$set(e.currentProperties.border,"borderRadius",e._n(t))},expression:"currentProperties.border.borderRadius"}}),r("field-config-slider",{attrs:{binding:"w",title:"size",group:"border",property:"borderSize",min:0,max:50,step:1,val:e.currentProperties.border.borderSize,alive:"borderSize"==e.active},on:{change:e.updateStyle},nativeOn:{click:function(t){e.active="borderSize"}},model:{value:e.currentProperties.border.borderSize,callback:function(t){e.$set(e.currentProperties.border,"borderSize",e._n(t))},expression:"currentProperties.border.borderSize"}}),r("field-config-radio",{attrs:{binding:"r",title:"style",property:"borderStyle",options:["none","solid","dashed","dotted"],val:e.currentProperties.border.borderStyle,alive:"borderStyle"==e.active},on:{change:e.updateStyle},nativeOn:{click:function(t){e.active="borderStyle"}},model:{value:e.currentProperties.border.borderStyle,callback:function(t){e.$set(e.currentProperties.border,"borderStyle",t)},expression:"currentProperties.border.borderStyle"}})],1),r("input",{attrs:{type:"button",id:"delete-button",value:"Delete"},on:{click:e.initDelete}})],2)},$=[],A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"colorPicker"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.color,expression:"color"}],staticClass:"input",style:e.colorPickerStyles,attrs:{id:e.id,type:"color"},domProps:{value:e.color},on:{input:[function(t){t.target.composing||(e.color=t.target.value)},e.passColor]}}),r("label",{attrs:{for:"colorPickerInput"}})])},R=[],z=r(5091),N=r.n(z),O={name:"ColorPicker",data:function(){return{id:N()("color-picker-"),color:"#ffffff"}},methods:{passColor:function(e){var t=e.target;this.color=t.value,this.$emit("input",t.value)}},computed:{colorPickerStyles:function(){var e=this.color;return{"--color-picker-background-color":e}}}},F=O,q=(0,w.Z)(F,A,R,!1,null,null,null),T=q.exports,I={name:"FieldConfig",props:{properties:{type:Object,required:!0}},methods:{resetActiveProperty:function(){this.inEditProperty=null}},data:function(){return{id:N()("field-config-"),inEditProperty:null,currentProperties:this.properties}},components:{ColorPicker:T},directives:{"click-outside":{bind:function(e,t,r){e.clickOutsideEvent=function(i){e===i.target||e.contains(i.target)||r.context[t.expression](i)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}}},L=I,V=(0,w.Z)(L,n,s,!1,null,"1287b14d",null),B=V.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"field-config-slider",class:this.alive?"active":""},[e._v(" ["+e._s(e.binding)+"] "+e._s(e.title)+" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.alive,expression:"alive"}],staticClass:"slider"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.currentValue,expression:"currentValue",modifiers:{number:!0}}],attrs:{type:"range",id:"text_size",min:e.min,max:e.max,step:e.step},domProps:{value:e.currentValue},on:{input:function(t){return e.updateValue()},__r:function(t){e.currentValue=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}})]),r("span",[e._v(e._s(e.currentValue))])])},M=[],Z={name:"FieldConfigSlider",props:{title:String,binding:String,group:String,property:String,min:Number,max:Number,step:Number,val:Number,alive:Boolean},data:function(){return{currentValue:this.val}},methods:{updateValue:function(){this.$emit("change",{property:this.property,val:this.currentValue})}}},U=Z,Y=(0,w.Z)(U,D,M,!1,null,null,null),X=Y.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"field-config-radio",class:this.alive?"active":""},[r("b",[e._v("["+e._s(e.binding)+"]")]),e._v(" "+e._s(e.title)+" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.alive,expression:"alive"}],staticClass:"options"},e._l(e.options,(function(t,i){return r("label",{key:i,attrs:{for:t}},[e._v(e._s(t)+" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],attrs:{id:t,name:e.group,type:"radio"},domProps:{value:t,checked:e._q(e.currentValue,t)},on:{change:[function(r){e.currentValue=t},function(t){return e.updateValue()}]}})])})),0),r("span",[e._v(e._s(e.currentValue))])])},j=[],H={name:"FieldConfigRadio",props:{title:String,binding:String,group:String,property:String,options:Array,val:String,alive:Boolean},data:function(){return{currentValue:this.val}},methods:{updateValue:function(){this.$emit("change",{property:this.property,val:this.currentValue})}}},G=H,J=(0,w.Z)(G,W,j,!1,null,null,null),K=J.exports,Q={components:{FieldConfigSlider:X,FieldConfigRadio:K},name:"TextFieldConfig",data:function(){return{active:""}},methods:{updateStyle:function(e){"border"===this.inEditProperty?this.$set(this.currentProperties.border,e.property,e.val):this.$set(this.currentProperties.text,e.property,e.val),this.$emit("input",this.currentProperties)},initDelete:function(){this.$emit("delete-initiated",this)}},extends:B,FieldConfigSlider:X,FieldConfigRadio:K},ee=Q,te=(0,w.Z)(ee,E,$,!1,null,null,null),re=te.exports,ie={name:"TextField",extends:C,data:function(){return{fieldStyleProperties:{text:{textAlignment:"left",backgroundColor:"#ffffff",textColor:"#121212",textSize:100,content:"hello",mdcontent:"hello"},border:{borderColor:"#121212",borderRadius:0,borderStyle:"solid",borderSize:2}}}},mounted:function(){this.fieldStyleProperties.text.content=h()(this.initMessages)},methods:{closeConfig:function(){this.inEdit=!1,this.fieldStyleProperties.text.mdcontent=g().sanitize(y.TU.parse(this.fieldStyleProperties.text.content))},updateProperties:function(e){this.fieldStyleProperties=e,this.emitChange()}},computed:{fieldStyle:function(){var e=this.inEdit?1e3:this.stackOrder,t={"--field-bg-color":this.fieldStyleProperties.text.backgroundColor,"--field-text-color":this.fieldStyleProperties.text.textColor,"--field-text-size":this.fieldStyleProperties.text.textSize+"%","--field-border-color":this.fieldStyleProperties.border.borderColor,"--field-border-style":this.fieldStyleProperties.border.borderStyle,"--field-border-size":this.fieldStyleProperties.border.borderSize+"px","--field-border-radius":this.fieldStyleProperties.border.borderRadius+"%","--field-text-alignment":this.fieldStyleProperties.text.textAlignment,"--field-stack-order":e};return t}},components:{TextFieldConfig:re}},oe=ie,ne=(0,w.Z)(oe,f,m,!1,null,"55972c1a",null),se=ne.exports,de=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.alive?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeConfig,expression:"closeConfig"}],ref:"draggableWrapper",staticClass:"code",style:e.fieldStyle,attrs:{id:e.id}},[r("main",e._l(e.blocks,(function(t){return r("div",{key:t.id,staticClass:"code-block",attrs:{id:"code-block"+t.id}},[r("span",{staticClass:"code-block-id"},[e._v(e._s(t.id))]),e._l(t.indent,(function(e,t){return r("span",{key:t,staticClass:"code-block-indent"})})),r("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"block.content"}],ref:"codeBlock",refInFor:!0,attrs:{type:"text"},domProps:{value:t.content},on:{keyup:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.addBlock(t.id,0)},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"delete",[8,46],r.key,["Backspace","Delete","Del"])?null:e.removeBlock(t.id)}],keydown:function(r){if(!r.type.indexOf("key")&&e._k(r.keyCode,"tab",9,r.key,"Tab"))return null;r.preventDefault(),t.indent++},input:function(r){r.target.composing||e.$set(t,"content",r.target.value)}}})],2)})),0),r("aside",{staticClass:"quick-config-view"},[r("input",{attrs:{type:"button",value:"Up",id:"stack-up-button"},on:{click:e.stackUp}}),r("input",{attrs:{type:"button",value:"Down",id:"stack-down-button"},on:{click:e.stackDown}})])]):e._e()},ae=[],le=(r(561),{name:"CodeField",extends:C,props:{x:{type:Number,required:!0,default:10},y:{type:Number,required:!0,default:10},width:{type:Number,required:!0,default:100},height:{type:Number,required:!0,default:30}},data:function(){return{id:N()("code-field-"),input:"cookie crumbles",output:"cake",blocks:[{id:1,content:"**Shout** To Infinity!",type:"print",indent:0}],fieldStyleProperties:{text:{textAlignment:"Left",backgroundColor:"#ffffff",textColor:"#121212",textSize:"#121212",content:"hello",mdcontent:"hello"},border:{borderColor:"#121212",borderRadius:0,borderStyle:"solid",borderSize:2}}}},methods:{addBlock:function(e,t){var r=this,i=0==this.$refs.codeBlock[e-1].selectionStart?this.blocks[e-1].content:"";0==this.$refs.codeBlock[e-1].selectionStart&&(this.blocks[e-1].content=""),this.blocks.splice(e,0,{id:e+1,content:i,type:"print",indent:t});for(var o=e;o<this.blocks.length+1;o++)this.blocks[o-1].id=o;this.$nextTick((function(){r.$refs.codeBlock[e].focus()}))},removeBlock:function(e){var t=this;if(e>1){if(this.blocks[e-1].indent>0&&0==this.$refs.codeBlock[e-1].selectionStart)return void this.blocks[e-1].indent--;if(""===this.$refs.codeBlock[e-1].value&&(this.blocks.splice(e-1,1),this.$nextTick((function(){t.$refs.codeBlock[e-2].focus()}))),0==this.$refs.codeBlock[e-1].selectionStart){var r=this.blocks.splice(e-1,1)[0];this.blocks[e-2].content+=r.content,console.log(this.blocks),this.$nextTick((function(){t.$refs.codeBlock[e-2].focus()}))}}}},computed:{fieldStyle:function(){var e=this.inEdit?1e3:this.stackOrder;return{"--code-bg-color":this.fieldStyleProperties.text.backgroundColor,"--code-text-color":this.fieldStyleProperties.text.textColor,"--code-text-size":this.fieldStyleProperties.text.textSize+"%","--code-border-color":this.fieldStyleProperties.border.borderColor,"--code-border-style":this.fieldStyleProperties.border.borderStyle,"--code-border-size":this.fieldStyleProperties.border.borderSize+"px","--code-border-radius":this.fieldStyleProperties.border.borderRadius+"ps","--code-text-alignment":this.fieldStyleProperties.text.textAlignment,"--code-stack-order":e}}}}),ce=le,ue=(0,w.Z)(ce,de,ae,!1,null,"1c27a09b",null),pe=ue.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.alive?r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.closeConfig,expression:"closeConfig"}],ref:"draggableWrapper",staticClass:"media",style:e.fieldStyle,attrs:{id:e.id}},[r("media-field-config",{directives:[{name:"show",rawName:"v-show",value:e.inEdit,expression:"inEdit"}],attrs:{properties:e.fieldStyleProperties},on:{"delete-initiated":e.destroySelf}}),r("img",{attrs:{src:e.mediaURL}})],1):e._e()},me=[],ve=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.resetActiveProperty,expression:"resetActiveProperty"}],staticClass:"field-config media-field-config"},[e._l(e.properties,(function(t,i){return r("div",{key:i,staticClass:"property-config"},[r("label",{attrs:{for:"edit-"+i+"-toggle"}},[e._v(e._s(i)+" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.inEditProperty,expression:"inEditProperty"}],attrs:{type:"radio",name:"property"},domProps:{value:i,checked:e._q(e.inEditProperty,i)},on:{change:function(t){e.inEditProperty=i}}})])])})),r("div",{directives:[{name:"show",rawName:"v-show",value:"image"===e.inEditProperty,expression:"inEditProperty === 'image'"}],staticClass:"edit-panel"},[r("h3",[e._v("mode")]),r("h3",[e._v("filter")]),r("h3",[e._v("rendering")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.image.imageRendering,expression:"currentProperties.image.imageRendering"}],attrs:{type:"radio",name:"image_rendering",id:"image_rendering_pixelated",value:"pixelated"},domProps:{checked:e._q(e.currentProperties.image.imageRendering,"pixelated")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.image,"imageRendering","pixelated")}}}),r("label",{attrs:{for:"pixelated"}},[e._v("pixelated")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.image.imageRendering,expression:"currentProperties.image.imageRendering"}],attrs:{type:"radio",name:"image_rendering",id:"image_rendering_auto",value:"auto"},domProps:{checked:e._q(e.currentProperties.image.imageRendering,"auto")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.image,"imageRendering","auto")}}}),r("label",{attrs:{for:"auto"}},[e._v("smooth")])]),r("div",{directives:[{name:"show",rawName:"v-show",value:"border"===e.inEditProperty,expression:"inEditProperty === 'border'"}],staticClass:"edit-panel"},[r("h3",[e._v("color")]),r("color-picker",{on:{input:e.updateStyle},model:{value:e.currentProperties.border.borderColor,callback:function(t){e.$set(e.currentProperties.border,"borderColor",t)},expression:"currentProperties.border.borderColor"}}),r("h3",[e._v("radius")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderRadius,expression:"currentProperties.border.borderRadius"}],attrs:{type:"range",id:"border_radius",min:"0",max:"50",step:"1"},domProps:{value:e.currentProperties.border.borderRadius},on:{change:function(t){return e.updateStyle()},__r:function(t){return e.$set(e.currentProperties.border,"borderRadius",t.target.value)}}}),r("h3",[e._v("size")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderSize,expression:"currentProperties.border.borderSize"}],attrs:{type:"range",id:"border_size",min:"1",max:"20",step:"1"},domProps:{value:e.currentProperties.border.borderSize},on:{change:function(t){return e.updateStyle()},__r:function(t){return e.$set(e.currentProperties.border,"borderSize",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderStyle,expression:"currentProperties.border.borderStyle"}],attrs:{type:"radio",name:"border_style",id:"border_style_none",value:"none"},domProps:{checked:e._q(e.currentProperties.border.borderStyle,"none")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.border,"borderStyle","none")}}}),r("label",{attrs:{for:"none"}},[e._v("none")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderStyle,expression:"currentProperties.border.borderStyle"}],attrs:{type:"radio",name:"border_style",id:"border_style_solid",value:"solid"},domProps:{checked:e._q(e.currentProperties.border.borderStyle,"solid")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.border,"borderStyle","solid")}}}),r("label",{attrs:{for:"solid"}},[e._v("solid")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderStyle,expression:"currentProperties.border.borderStyle"}],attrs:{type:"radio",name:"border_style",id:"border_style_dashed",value:"dashed"},domProps:{checked:e._q(e.currentProperties.border.borderStyle,"dashed")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.border,"borderStyle","dashed")}}}),r("label",{attrs:{for:"dashed"}},[e._v("dashed")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProperties.border.borderStyle,expression:"currentProperties.border.borderStyle"}],attrs:{type:"radio",name:"border_style",id:"border_style_dotted",value:"dotted"},domProps:{checked:e._q(e.currentProperties.border.borderStyle,"dotted")},on:{input:function(t){return e.updateStyle()},change:function(t){return e.$set(e.currentProperties.border,"borderStyle","dotted")}}}),r("label",{attrs:{for:"dotted"}},[e._v("dotted")])],1),r("input",{attrs:{type:"button",id:"delete-button",value:"Delete"},on:{click:e.initDelete}})],2)},he=[],be={name:"MediaFieldConfig",methods:{updateStyle:function(){this.$emit("input",this.currentProperties)},initDelete:function(){this.$emit("delete-initiated",this)}},extends:B,FieldConfigSlider:X},ge=be,ye=(0,w.Z)(ge,ve,he,!1,null,null,null),xe=ye.exports,ke={name:"MediaField",extends:C,props:{x:{type:Number,required:!0,default:10},y:{type:Number,required:!0,default:10},width:{type:Number,required:!0,default:100},height:{type:Number,required:!0,default:30},media:{type:String,required:!1}},data:function(){return{id:N()("media-field-"),fieldStyleProperties:{image:{imageRendering:"auto"},border:{borderColor:"#121212",borderRadius:"0%;",borderStyle:"solid",borderSize:"2px"}}}},mounted:function(){},computed:{fieldStyle:function(){return{"--media-image-rendering":this.fieldStyleProperties.image.imageRendering,"--media-border-color":this.fieldStyleProperties.border.borderColor,"--media-border-radius":this.fieldStyleProperties.border.borderRadius+"%","--media-border-size":this.fieldStyleProperties.border.borderSize+"px","--media-border-style":this.fieldStyleProperties.border.borderStyle}},mediaURL:function(){return this.media?(console.log(this.media),this.media):r(6752)}},components:{MediaFieldConfig:xe}},Pe=ke,Se=(0,w.Z)(Pe,fe,me,!1,null,"99014ef2",null),we=Se.exports,_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("img",{ref:"draggableWrapper",staticClass:"linked-image",attrs:{id:e.id,src:e.url}})},Ce=[],Ee={name:"LinkedImage",props:{url:{type:String,required:!0}},data:function(){return{alive:!0,id:N()("linked-image-"),screenX:0,screenY:0}},mounted:function(){this.$emit("rendered-image",this.url)},methods:{}},$e=Ee,Ae=(0,w.Z)($e,_e,Ce,!1,null,"5a20d41a",null),Re=Ae.exports,ze=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"flow-view"}})},Ne=[],Oe=(r(3290),{name:"FlowView",mounted:function(){var e,t,i,o,n=!1,s=function(r){function s(){r.mouseIsPressed&&n&&(t.push(),t.fill(i.color()),u(r.mouseX,r.mouseY,r.pmouseX,r.pmouseY),t.pop())}function d(){r.image(t,0,0,r.windowWidth,r.windowHeight)}function a(){t.background(252)}function l(){n=!0}function c(){n=!1}function u(e,i,o,n){var s=r.abs(e-o)+r.abs(i-n);t.stroke(s),t.ellipse(e,i,s,s)}r.setup=function(){e=r.createCanvas(r.windowWidth,r.windowHeight),e.parent("#flow-view"),t=r.createGraphics(r.windowWidth,r.windowHeight),t.parent("#flow-view"),t.background(252),t.canvas.remove(),i=r.createColorPicker("#ed225d"),i.parent("#flow-view"),i.position(0,0,"fixed"),o=r.createButton("Reset"),o.mousePressed(a),o.parent("#flow-view"),o.position(0,50,"fixed"),e.mousePressed(l),e.mouseReleased(c)},r.draw=function(){s(),d()},r.windowResized=function(){var e=r.createGraphics(r.windowWidth,r.windowHeight);e.image(t,0,0,e.width,e.height),t=e,r.resizeCanvas(r.windowWidth,r.height)}},d=r(7943);new d(s)}}),Fe=Oe,qe=(0,w.Z)(Fe,ze,Ne,!1,null,"f6270b20",null),Te=qe.exports,Ie={name:"EditorView",data:function(){return{editingPlugs:!0,chords:[],images:[],plugs:[],codes:[],programs:[],newImageURL:"https://imgur.com/ftHNkoG.png",screenX:0,screenY:0}},props:{width:{type:Number,required:!0},height:{type:Number,required:!0}},mounted:function(){var e=this.$refs.program,t=this.$refs.textStarter,r=this.$refs.codeStarter;e.style.width=this.width+"px",e.style.height=this.height+"px",this.initTextStarter(t),this.initCodeStarter(r),this.initDropzone(e)},methods:{initDropzone:function(e){k()(e).dropzone({accept:".starter",overlap:1})},initImageStarter:function(e){e&&this.initMediaStarter(this.$refs.imageStarters.at(-1).$el,e)},initTextStarter:function(e){e.setAttribute("data-x",this.x),e.setAttribute("data-y",this.y),k()(e).draggable({inertia:!1,restrict:{elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:this.dragMoveListener,onend:this.dropText})},initCodeStarter:function(e){e.setAttribute("data-x",this.x),e.setAttribute("data-y",this.y),k()(e).draggable({inertia:!1,restrict:{elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:this.dragMoveListener,onend:this.dropCode})},initMediaStarter:function(e,t){e.setAttribute("data-x",this.x),e.setAttribute("data-y",this.y),e.setAttribute("data-media",t),k()(e).draggable({inertia:!1,restrict:{elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!0,onmove:this.dragMoveListener,onend:this.dropMedia})},dragMoveListener:function(e){var t=e.target,r=(parseFloat(t.getAttribute("data-x"))||this.screenX)+e.dx,i=(parseFloat(t.getAttribute("data-y"))||this.screenY)+e.dy;t.style.webkitTransform=t.style.transform="translate("+r+"px, "+i+"px)",t.style.zIndex="1000",t.setAttribute("data-x",r),t.setAttribute("data-y",i)},dropText:function(e){var t=e.target;t.style.webkitTransform=t.style.transform="translate(0px, 0px)",this.addChord(e.clientX-200,e.clientY-70),this.screenX=0,this.screenY=0,t.setAttribute("data-x",0),t.setAttribute("data-y",0)},dropMedia:function(e){var t=e.target,r=t.getAttribute("data-media");t.style.webkitTransform=t.style.transform="translate(0px, 0px)",this.screenX=0,this.screenY=0,this.addPlug(e.clientX-200,e.clientY-70,r),t.setAttribute("data-x",0),t.setAttribute("data-y",0)},dropCode:function(e){var t=e.target,r=t.getAttribute("data-code");t.style.webkitTransform=t.style.transform="translate(0px, 0px)",this.screenX=0,this.screenY=0,this.addCode(e.clientX-200,e.clientY-70,r),t.setAttribute("data-x",0),t.setAttribute("data-y",0)},addChord:function(e,t){this.chords.push({id:N()("chord-"),x:e,y:t})},addPlug:function(e,t,r){this.plugs.push({id:N()("plug-"),x:e,y:t,media:r})},addImage:function(){this.images.push({id:N()("image-"),url:this.newImageURL})},addCode:function(e,t){this.codes.push({id:N()("chord-"),x:e,y:t})},updateChord:function(e,t,r,i,o){this.chords=this.chords.map((function(n){return n.id===e?(0,p.Z)((0,p.Z)({},n),{},{style:t,x:r,y:i,width:o}):n})),console.log(this.chords)},save:function(){var e=JSON.stringify({chords:this.chords,plugs:this.plugs,codes:this.codes});console.log(e)},controlSelection:function(e){this.canSelect=!e}},computed:{editorFocus:function(){return this.editingPlugs?{"--flow-editor-stack-order":0,"--flow-editor-opacity":.5}:{"--flow-editor-stack-order":2,"--flow-editor-opacity":.8}}},components:{TextField:se,CodeField:pe,MediaField:we,LinkedImage:Re,FlowView:Te}},Le=Ie,Ve=(0,w.Z)(Le,c,u,!1,null,null,null),Be=Ve.exports,De={name:"App",data:function(){return{title:"Assemblyre",version:.1,author:"Artur Solomonik"}},components:{EditorView:Be}},Me=De,Ze=(0,w.Z)(Me,a,l,!1,null,null,null),Ue=Ze.exports;d.Z.config.productionTip=!1,window.onload=function(){new d.Z({render:function(e){return e(Ue)}}).$mount("#app")}},6752:function(e,t,r){e.exports=r.p+"img/sample.d91b8663.jpg"}},t={};function r(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,i,o,n){if(!i){var s=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],n=e[c][2];for(var d=!0,a=0;a<i.length;a++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](i[a])}))?i.splice(a--,1):(d=!1,n<s&&(s=n));if(d){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,o,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.p="/"}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,s=i[0],d=i[1],a=i[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in d)r.o(d,o)&&(r.m[o]=d[o]);if(a)var c=a(r)}for(t&&t(i);l<s.length;l++)n=s[l],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},i=self["webpackChunkassemblyre"]=self["webpackChunkassemblyre"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(3170)}));i=r.O(i)})();
//# sourceMappingURL=app-legacy.59884788.js.map